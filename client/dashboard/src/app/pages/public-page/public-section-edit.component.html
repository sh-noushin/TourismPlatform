<div class="glass-panel" (click)="$event.stopPropagation()">
  <header class="section-edit-header">
    <p class="eyebrow">{{ 'MENU.PUBLIC_PAGE_SECTIONS' | translate }}</p>
    <h2>{{ mode === 'create' ? ('PUBLIC_PAGE_SECTIONS_EDIT.NEW_TITLE' | translate) : ('PUBLIC_PAGE_SECTIONS_EDIT.EDIT_TITLE' | translate) }}</h2>
    <p class="subtitle">
      {{ mode === 'create' ? ('PUBLIC_PAGE_SECTIONS_EDIT.SUBTITLE_CREATE' | translate) : ('PUBLIC_PAGE_SECTIONS_EDIT.SUBTITLE_EDIT' | translate) }}
    </p>
  </header>

  <div class="status-bar">
    @if (error()) {
      <span class="status error">{{ error() }}</span>
    }
  </div>

  <form class="section-edit-form" (submit)="save($event)">
    <section class="form-grid top">
      <label>
        <span class="label-text">{{ 'PUBLIC_PAGE_SECTIONS_PAGE.SECTION_TYPE' | translate }}</span>
        <select
          name="sectionType"
          [value]="sectionType()"
          (change)="onSectionTypeChange($any($event.target).value)"
          [disabled]="mode === 'edit'"
          required
        >
          <option *ngFor="let type of availableTypes()" [value]="type">
            {{ sectionTypeOptionLabel(type) }}
          </option>
        </select>
      </label>

      <label>
        <span class="label-text">{{ 'PUBLIC_PAGE_SECTIONS_PAGE.HEADER' | translate }}</span>
        <input
          type="text"
          name="header"
          [value]="header()"
          (input)="header.set($any($event.target).value)"
          required
        />
      </label>
    </section>

    <section class="form-grid description">
      <label>
        <span class="label-text">{{ 'PUBLIC_PAGE_SECTIONS_PAGE.CONTENT' | translate }}</span>
        <textarea
          name="content"
          rows="6"
          [value]="content()"
          (input)="content.set($any($event.target).value)"
          required
        ></textarea>
      </label>
    </section>

    <section class="actions">
      <button type="button" class="btn ghost" (click)="cancel()" [disabled]="saving()">
        {{ 'COMMON.CANCEL' | translate }}
      </button>
      <button type="submit" class="btn primary" [disabled]="saving()">
        {{ saving() ? ('COMMON.SAVING' | translate) : ('PUBLIC_PAGE_SECTIONS_EDIT.SAVE' | translate) }}
      </button>
    </section>
  </form>
</div>
