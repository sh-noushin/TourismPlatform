<div class="edit-shell" (click)="$event.stopPropagation()">
  <div class="glass-panel">
    <header class="header">
      <h3>{{ title() }}</h3>
    </header>

    <form class="form" (submit)="save($event)">
      @if (mode === 'create') {
        <label>
          <span class="label-text">ID</span>
          <input type="text" name="id" autocomplete="off" [value]="id()" (input)="id.set($any($event.target).value)" required />
        </label>
      } @else {
        <label>
          <span class="label-text">ID</span>
          <input type="text" name="id" [value]="id()" disabled />
        </label>
      }

      <label>
        <span class="label-text">{{ 'PUBLIC_PAGE_SECTIONS_PAGE.SECTION_TYPE' | translate }}</span>
        <select
          name="sectionType"
          [value]="sectionType()"
          (change)="sectionType.set($any($event.target).value)"
          [disabled]="mode === 'edit'"
          required
        >
          <option *ngFor="let type of availableTypes()" [value]="type">
            {{ sectionTypeOptionLabel(type) }}
          </option>
        </select>
      </label>

      <label>
        <span class="label-text">{{ 'PUBLIC_PAGE_SECTIONS_PAGE.HEADER' | translate }}</span>
        <input type="text" name="header" [value]="header()" (input)="header.set($any($event.target).value)" required />
      </label>

      <label>
        <span class="label-text">{{ 'PUBLIC_PAGE_SECTIONS_PAGE.CONTENT' | translate }}</span>
        <textarea
          name="content"
          rows="6"
          [value]="content()"
          (input)="content.set($any($event.target).value)"
          required
        ></textarea>
      </label>

      <div class="actions">
        <button type="button" class="btn ghost" (click)="cancel()" [disabled]="saving()">
          {{ 'COMMON.CANCEL' | translate }}
        </button>
        <button type="submit" class="btn primary" [disabled]="saving()">
          {{ saving() ? ('COMMON.SAVING' | translate) : ('COMMON.SAVE' | translate) }}
        </button>
      </div>

      @if (error()) {
        <p class="status error">{{ error() }}</p>
      }
    </form>
  </div>
</div>
