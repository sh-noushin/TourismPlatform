@use './styles/index' as *;

/* Nazanin local font bundle (place woff/woff2 in src/assets/fonts/)
	 Files expected:
		 - src/assets/fonts/nazanin.woff2
		 - src/assets/fonts/nazanin-700.woff2
*/
@font-face {
	font-family: 'NazaninLocal';
	src: url('/assets/fonts/nazanin.woff2') format('woff2');
	font-weight: 400;
	font-style: normal;
	font-display: swap;
}
@font-face {
	font-family: 'NazaninLocal';
	src: url('/assets/fonts/nazanin-700.woff2') format('woff2');
	font-weight: 700;
	font-style: bold;
	font-display: swap;
}

:root {
	font-family: $font-body;
	background: $bg;
	color: $text;
}

body {
	margin: 0;
	background: $bg;
	color: $text;
}

app-root {
	display: block;
	min-height: 100vh;
	background: $bg;
}

a {
	color: inherit;
}

/* RTL font override (apply broadly) */
html[dir='rtl'],
html[dir='rtl'] body,
html[dir='rtl'] * {
	font-family: 'NazaninLocal', 'B Nazanin', 'Nazanin', 'Tahoma', $font-body !important;
}

/* Ensure overlays/dialogs pick it up too */
html[dir='rtl'] body .cdk-overlay-pane,
html[dir='rtl'] body .cdk-overlay-pane * {
  font-family: 'B Nazanin', 'Nazanin', 'Tahoma', $font-body !important;
}

/* Explicitly include common text elements to avoid mixed heading/body fonts in RTL */
html[dir='rtl'] h1,
html[dir='rtl'] h2,
html[dir='rtl'] h3,
html[dir='rtl'] h4,
html[dir='rtl'] h5,
html[dir='rtl'] h6,
html[dir='rtl'] label,
html[dir='rtl'] input,
html[dir='rtl'] textarea,
html[dir='rtl'] button {
  font-family: 'B Nazanin', 'Nazanin', 'Tahoma', $font-body !important;
}

/* Ensure tables, common component containers, and menus use Nazanin in RTL/Farsi */
html[dir='rtl'] table,
html[dir='rtl'] th,
html[dir='rtl'] td,
html[dir='rtl'] .table,
html[dir='rtl'] .mat-table,
html[dir='rtl'] .mat-cell,
html[dir='rtl'] .cdk-table,
html[dir='rtl'] .sf-table,
html[dir='rtl'] .sf-table *,
html[dir='rtl'] .mat-menu-panel,
html[dir='rtl'] .mat-menu-item,
html[dir='rtl'] nav,
html[dir='rtl'] .menu,
html[dir='rtl'] .dropdown,
html[dir='rtl'] [lang='fa'],
html[dir='rtl'] :lang(fa) {
	font-family: 'NazaninLocal', 'B Nazanin', 'Nazanin', 'Tahoma', $font-body !important;
}

/* Specific stronger rule for table cells to avoid mixed fonts */
html[dir='rtl'] table td,
html[dir='rtl'] table th {
	font-family: 'NazaninLocal', 'B Nazanin', 'Nazanin', 'Tahoma', $font-body !important;
}

/* Broad Farsi selectors: ensure menus, navs, lists, buttons, inputs and common components use Nazanin when page language is Farsi */
html[lang='fa'],
html[dir='rtl'],
:lang(fa) {
	font-family: 'NazaninLocal', 'B Nazanin', 'Nazanin', 'Tahoma', $font-body !important;
}

html[lang='fa'] body,
html[lang='fa'] body *,
html[lang='fa'] nav,
html[lang='fa'] .menu,
html[lang='fa'] .dropdown,
html[lang='fa'] .mat-menu-panel,
html[lang='fa'] .mat-list,
html[lang='fa'] button,
html[lang='fa'] input,
html[lang='fa'] textarea,
html[lang='fa'] table,
html[lang='fa'] th,
html[lang='fa'] td,
html[lang='fa'] [class^="sf-"],
html[lang='fa'] [class*=" sf-"] {
	font-family: 'NazaninLocal', 'B Nazanin', 'Nazanin', 'Tahoma', $font-body !important;
}

/* Add direct Nazanin.TTF support and enforce Nazanin for Farsi text at 25px */
@font-face {
	font-family: 'Nazanin';
	src: url('/assets/fonts/NAZANIN.TTF') format('truetype');
	font-weight: 400;
	font-style: normal;
	font-display: swap;
}

/* Force Nazanin and font-size 25px for all Farsi content in the dashboard */
:lang(fa),
html[lang='fa'],
html[dir='rtl'] {
	font-family: 'Nazanin', 'NazaninLocal', 'B Nazanin', 'Tahoma', $font-body !important;
	font-size: 18px !important;
}

html[lang='fa'] body,
html[lang='fa'] body *,
:lang(fa) body,
:lang(fa) body * {
	font-family: 'Nazanin', 'NazaninLocal', 'B Nazanin', 'Tahoma', $font-body !important;
	font-size: 18px !important;
}

/* Side menu: use Nazanin at 35px when page is Farsi/RTL */
html[lang='fa'] .side-menu,
html[lang='fa'] .sidemenu,
html[lang='fa'] .sidebar,
:lang(fa) .side-menu,
:lang(fa) .sidemenu,
:lang(fa) .sidebar,
html[dir='rtl'] .side-menu,
html[dir='rtl'] .sidemenu,
html[dir='rtl'] .sidebar {
  font-family: 'Nazanin', 'NazaninLocal', 'B Nazanin', 'Tahoma', $font-body !important;
	font-size: 24px !important;
}

/* Override nested sidebar items that set their own font-size in component styles */
html[lang='fa'] .sidebar .nav__label,
html[lang='fa'] .sidebar .nav__item,
html[lang='fa'] .sidebar .nav__submenu-item,
:lang(fa) .sidebar .nav__label,
:lang(fa) .sidebar .nav__item,
:lang(fa) .sidebar .nav__submenu-item,
html[dir='rtl'] .sidebar .nav__label,
html[dir='rtl'] .sidebar .nav__item,
html[dir='rtl'] .sidebar .nav__submenu-item {
	font-family: 'Nazanin', 'NazaninLocal', 'B Nazanin', 'Tahoma', $font-body !important;
	font-size: 24px !important;
}
