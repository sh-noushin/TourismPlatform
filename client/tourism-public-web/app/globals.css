@import "tailwindcss";

:root {
  --bg: #010101;
  --surface: #020202;
  --text: #f8fafc;
  --muted: #9ca6b5;
  --border: #1a1a1a;
  --primary: #fbbf24;
  --primary-foreground: #010101;
  --radius: 0.75rem;
  --font-fa: 'B Nazanin', 'NazaninLocal', 'Nazanin', system-ui, -apple-system, sans-serif;
}

/* Nazanin local font bundle (place woff/woff2 in public/fonts/)
   Files expected:
     - public/fonts/nazanin.woff2
     - public/fonts/nazanin-700.woff2
*/
@font-face {
  font-family: 'NazaninLocal';
  src: url('/fonts/nazanin.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'NazaninLocal';
  src: url('/fonts/nazanin-700.woff2') format('woff2');
  font-weight: 700;
  font-style: bold;
  font-display: swap;
}

@theme inline {
  --color-background: var(--bg);
  --color-foreground: var(--text);
  --color-muted: var(--muted);
  --color-border: var(--border);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --bg: #0f172a;
    --surface: #111827;
    --text: #f8fafc;
    --muted: #94a3b8;
    --border: #1f2937;
    --primary: #22d3ee;
    --primary-foreground: #0f172a;
  }
}

html {
  font-family: var(--font-geist-sans), system-ui, -apple-system, sans-serif;
  background-color: var(--bg);
  color: var(--text);
}

body {
  min-height: 100vh;
  margin: 0;
  background-color: var(--bg);
  color: var(--text);
}

* {
  box-sizing: border-box;
}

/* Farsi / RTL override: prefer B Nazanin where available for menus, tables, and components */
html[lang='fa'],
html[dir='rtl'],
:lang(fa),
[lang='fa'] {
  font-family: var(--font-fa);
}

/* Apply specifically to tables, navs and common UI containers to avoid mixed fonts */
html[lang='fa'] table,
html[lang='fa'] th,
html[lang='fa'] td,
html[lang='fa'] nav,
html[lang='fa'] .menu,
html[lang='fa'] .dropdown,
html[dir='rtl'] table,
html[dir='rtl'] th,
html[dir='rtl'] td,
html[dir='rtl'] nav,
html[dir='rtl'] .menu {
  font-family: var(--font-fa);
}

/* Broad Farsi selectors: ensure menus, navs, lists, buttons, inputs and common components use B Nazanin when page language is Farsi */
html[lang='fa'],
html[dir='rtl'],
:lang(fa) {
  font-family: var(--font-fa);
  font-size: 18px !important;
}
html[lang='fa'] body *,
html[lang='fa'] nav,
html[lang='fa'] .menu,
html[lang='fa'] .dropdown,
html[lang='fa'] .mat-menu-panel,
html[lang='fa'] .mat-list,
html[lang='fa'] button,
html[lang='fa'] input,
html[lang='fa'] textarea,
html[lang='fa'] table,
html[lang='fa'] th,
html[lang='fa'] td,
html[lang='fa'] [class^="sf-"],
html[lang='fa'] [class*=" sf-"] {
  font-family: var(--font-fa);
}

/* Keep cards the same size across locales by neutralizing global font bumps inside .lang-balanced-card */
.lang-balanced-card {
  font-size: 15px !important;
  line-height: 1.5 !important;
}
@media (min-width: 768px) {
  .lang-balanced-card {
    font-size: 16px !important;
  }
}
.lang-balanced-card,
.lang-balanced-card * {
  font-size: inherit !important;
  line-height: inherit !important;
}

/* Keep hero/section headings consistent across locales */
.lang-balanced-section {
  font-size: 16px !important;
  line-height: 1.6 !important;
}
@media (min-width: 768px) {
  .lang-balanced-section {
    font-size: 17px !important;
  }
}
.lang-balanced-section,
.lang-balanced-section * {
  font-size: inherit !important;
  line-height: inherit !important;
}
html[lang='fa'] .lang-balanced-section,
:lang(fa) .lang-balanced-section,
html[dir='rtl'] .lang-balanced-section {
  font-size: 16px !important;
  line-height: 1.6 !important;
}
@media (min-width: 768px) {
  html[lang='fa'] .lang-balanced-section,
  :lang(fa) .lang-balanced-section,
  html[dir='rtl'] .lang-balanced-section {
    font-size: 17px !important;
  }
}
html[lang='fa'] .lang-balanced-section *,
:lang(fa) .lang-balanced-section *,
html[dir='rtl'] .lang-balanced-section * {
  font-size: inherit !important;
  line-height: inherit !important;
}

/* Clamp root font size for consistent layout widths across locales */
html.lang-balanced-root {
  font-size: 16px !important;
  line-height: 1.5 !important;
}
html.lang-balanced-root:lang(fa),
html.lang-balanced-root[lang='fa'],
html.lang-balanced-root[dir='rtl'] {
  font-size: 16px !important;
  line-height: 1.5 !important;
}

/* Keep header typography consistent across locales */
.lang-balanced-header {
  font-size: 16px !important;
  line-height: 1.5 !important;
}
.lang-balanced-header *,
html[lang='fa'] .lang-balanced-header *,
:lang(fa) .lang-balanced-header *,
html[dir='rtl'] .lang-balanced-header * {
  font-size: inherit !important;
  line-height: inherit !important;
}
html[lang='fa'] .lang-balanced-header,
:lang(fa) .lang-balanced-header,
html[dir='rtl'] .lang-balanced-header {
  font-size: 16px !important;
  line-height: 1.5 !important;
}
@font-face {
  font-family: 'Nazanin';
  src: url('/fonts/NAZANIN.TTF') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

:lang(fa),
html[lang='fa'],
html[dir='rtl'] {
  font-family: var(--font-fa) !important;
  font-size: 25px !important;
}

html[lang='fa'] body,
html[lang='fa'] body *,
:lang(fa) body,
:lang(fa) body * {
  font-family: var(--font-fa) !important;
  font-size: 18px !important;
}

/* Side menu: use B Nazanin at 35px when page is Farsi/RTL */
html[lang='fa'] .side-menu,
html[lang='fa'] .sidemenu,
html[lang='fa'] .sidebar,
:lang(fa) .side-menu,
:lang(fa) .sidemenu,
:lang(fa) .sidebar,
html[dir='rtl'] .side-menu,
html[dir='rtl'] .sidemenu,
html[dir='rtl'] .sidebar {
  font-family: var(--font-fa) !important;
  font-size: 24px !important;
}

/* Override nested sidebar items that set their own font-size in component styles */
html[lang='fa'] .sidebar .nav__label,
html[lang='fa'] .sidebar .nav__item,
html[lang='fa'] .sidebar .nav__submenu-item,
:lang(fa) .sidebar .nav__label,
:lang(fa) .sidebar .nav__item,
:lang(fa) .sidebar .nav__submenu-item,
html[dir='rtl'] .sidebar .nav__label,
html[dir='rtl'] .sidebar .nav__item,
html[dir='rtl'] .sidebar .nav__submenu-item {
  font-family: var(--font-fa) !important;
  font-size: 24px !important;
}

/* Force balanced sizing inside cards even under Farsi font bumps */
html[lang='fa'] .lang-balanced-card,
:lang(fa) .lang-balanced-card,
html[dir='rtl'] .lang-balanced-card {
  font-size: 15px !important;
  line-height: 1.5 !important;
}
@media (min-width: 768px) {
  html[lang='fa'] .lang-balanced-card,
  :lang(fa) .lang-balanced-card,
  html[dir='rtl'] .lang-balanced-card {
    font-size: 16px !important;
  }
}
html[lang='fa'] .lang-balanced-card *,
:lang(fa) .lang-balanced-card *,
html[dir='rtl'] .lang-balanced-card * {
  font-size: inherit !important;
  line-height: inherit !important;
}

select {
  background-color: var(--surface);
  color: var(--text);
  border-color: var(--border);
  font-family: inherit;
}

select option {
  background-color: var(--surface);
  color: var(--text);
}
